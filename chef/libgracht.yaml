project: 
  summary: A lightweight, cross-platform, low-dependency, and modular protocol/rpc library
  description: |
    A lightweight, cross-platform, low-dependency, and modular protocol/rpc library. 
    Gracht is built upon an abstracted concept of links, which can be anything and hence allows gracht to work on any platform. 
    The links that are provided by default are unix/windows-sockets and a native interface for the Vali 
    OS IPC (which the library is originally built for). Gracht protocols are defined in the in its own format.
  author: Philip Meulengracht
  email: the_meulengracht@hotmail.com
  version: 2.4.1
  license: GPLv3
  homepage: https://github.com/Meulengracht/libgracht

ingredients:
- name: vali/clang-cc
  description: Use the clang cross-compiler to build the OS
  channel: devel
- name: vali/sdk-c
  description: Require the C SDK to build the library for Vali
  channel: devel
  platform: vali
- name: vali/sdk-cpp
  description: Require the C++ SDK to build the library for Vali
  channel: devel
  platform: vali

recipes:
  - name: libgracht
    path: /
    toolchain: vali/clang-cc
    steps:
    - type: generate
      system: cmake
      arguments:
        - -G
        - '"Unix Makefiles"'
        - -DGRACHT_C_LINK_VALI=ON
        - -DCMAKE_TOOLCHAIN_FILE=${{ PROJECT_PATH }}/chef/Vali.cmake
      env:
        CROSS: ${{ TOOLCHAIN_PREFIX }}
        VALI_SDK_PATH: ${{ INGREDIENTS_PREFIX }}
    - type: build
      depends: [generate]
      system: make

packs:
- name: libgracht
  type: ingredient
